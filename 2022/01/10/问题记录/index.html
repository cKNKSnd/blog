<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>问题记录 | 第八十三</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="alternate" type="application/rss+xml" href="https://cknksnd.github.io/blog/rss.xml/rss.xml" title="第八十三 RSS Feed">
    <meta name="description" content="本篇文章记录了Java/Springboot项目配置、开发过程中遇到的一些问题，以及解决方案。

一、Error creating bean with name 'xmlModelPlugin'

报错如下

Exception in thread “main”
org.springframework.beans.factory.Bean ...">
    <link rel="preload" href="/blog/assets/css/0.styles.dd9a0f72.css" as="style"><link rel="preload" href="/blog/assets/js/app.f7c45e10.js" as="script"><link rel="preload" href="/blog/assets/js/6.2245e778.js" as="script"><link rel="preload" href="/blog/assets/js/3.c84bc4bf.js" as="script"><link rel="preload" href="/blog/assets/js/20.2cd4ce13.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.2827304e.js"><link rel="prefetch" href="/blog/assets/js/11.bf495ebc.js"><link rel="prefetch" href="/blog/assets/js/12.969b0d78.js"><link rel="prefetch" href="/blog/assets/js/13.9ea2cee5.js"><link rel="prefetch" href="/blog/assets/js/14.7f1d9b58.js"><link rel="prefetch" href="/blog/assets/js/15.1a8d4fcf.js"><link rel="prefetch" href="/blog/assets/js/16.cef4558d.js"><link rel="prefetch" href="/blog/assets/js/17.d2284ee5.js"><link rel="prefetch" href="/blog/assets/js/18.4e81d1ed.js"><link rel="prefetch" href="/blog/assets/js/19.8e9a4d17.js"><link rel="prefetch" href="/blog/assets/js/21.9a420a16.js"><link rel="prefetch" href="/blog/assets/js/22.321f455f.js"><link rel="prefetch" href="/blog/assets/js/23.d1fdfa73.js"><link rel="prefetch" href="/blog/assets/js/24.bce9c2c0.js"><link rel="prefetch" href="/blog/assets/js/25.7c22c03f.js"><link rel="prefetch" href="/blog/assets/js/26.448643b6.js"><link rel="prefetch" href="/blog/assets/js/27.9ef757c6.js"><link rel="prefetch" href="/blog/assets/js/4.9850d613.js"><link rel="prefetch" href="/blog/assets/js/5.03fe8d03.js"><link rel="prefetch" href="/blog/assets/js/7.f0b97f50.js"><link rel="prefetch" href="/blog/assets/js/8.1970db06.js"><link rel="prefetch" href="/blog/assets/js/9.c208805c.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.9c4b22ef.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.dd9a0f72.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">第八十三 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">第八十三 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        问题记录
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">Kendall Cai</span> <span itemprop="address">   in Amoy</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2022-01-10T00:00:00.000Z">
      2022-01-10
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/blog/tag/Java" data-v-42ccfcd5><span data-v-42ccfcd5>Java</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><p>本篇文章记录了Java/Springboot项目配置、开发过程中遇到的一些问题，以及解决方案。</p> <h2 id="一、error-creating-bean-with-name-xmlmodelplugin"><a href="#一、error-creating-bean-with-name-xmlmodelplugin" class="header-anchor">#</a> 一、Error creating bean with name 'xmlModelPlugin'</h2> <h3 id="报错如下"><a href="#报错如下" class="header-anchor">#</a> 报错如下</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>Exception <span class="token keyword">in</span> thread “main”
org.springframework.beans.factory.BeanCreationException: Error
creating bean with name <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>‘xmlModelPlugin’<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>: Lookup method resolution
failed<span class="token punctuation">;</span> nested exception is java.lang.IllegalStateException: Failed to
introspect Class <span class="token punctuation">[</span>springfox.documentation.schema.XmlModelPlugin<span class="token punctuation">]</span> from
ClassLoader <span class="token punctuation">[</span>jdk.internal.loader.ClassLoaders<span class="token variable">$AppClassLoader</span>@2437c6dc<span class="token punctuation">]</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>Caused by: java.lang.NoClassDefFoundError:
javax/xml/bind/annotation/XmlType at
java.base/java.lang.Class.getDeclaredMethods0<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span> at
java.base/java.lang.Class.privateGetDeclaredMethods<span class="token punctuation">(</span>Class.java:3166<span class="token punctuation">)</span>
at java.base/java.lang.Class.getDeclaredMethods<span class="token punctuation">(</span>Class.java:2309<span class="token punctuation">)</span> at
org.springframework.util.ReflectionUtils.getDeclaredMethods<span class="token punctuation">(</span>ReflectionUtils.java:463<span class="token punctuation">)</span>
… <span class="token number">20</span> <span class="token function">more</span> Caused by: java.lang.ClassNotFoundException:
javax.xml.bind.annotation.XmlType at
java.base/jdk.internal.loader.BuiltinClassLoader.loadClass<span class="token punctuation">(</span>BuiltinClassLoader.java:581<span class="token punctuation">)</span>
at
java.base/jdk.internal.loader.ClassLoaders<span class="token variable">$AppClassLoader</span>.loadClass<span class="token punctuation">(</span>ClassLoaders.java:178<span class="token punctuation">)</span>
at java.base/java.lang.ClassLoader.loadClass<span class="token punctuation">(</span>ClassLoader.java:521<span class="token punctuation">)</span>
… <span class="token number">24</span> <span class="token function">more</span>
</code></pre></div><h3 id="问题原因"><a href="#问题原因" class="header-anchor">#</a> 问题原因</h3> <p>jdk版本问题，缺少依赖</p> <h3 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h3> <p>在<code>pom</code>中添加：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- jdk8 不需要添加，高版本需要添加 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.xml.bind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jaxb-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="二、xxx-jar中没有主清单属性"><a href="#二、xxx-jar中没有主清单属性" class="header-anchor">#</a> 二、<code>XXX.jar中没有主清单属性</code></h2> <p>在运行使用maven打包的项目之后，运行项目发现主类没有找到。提示XXX.jar中没有主清单属性。</p> <h3 id="问题原因-2"><a href="#问题原因-2" class="header-anchor">#</a> 问题原因</h3> <p>maven在打包时没有配置主类</p> <h3 id="解决方案-2"><a href="#解决方案-2" class="header-anchor">#</a> 解决方案</h3> <ol><li>使用的是Springboot框架，在<code>pom.xml</code>中添加如下配置，会自动检测主类。</li></ol> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>其他项目</li></ol> <p>方法一：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>repackage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>方法二：直接指定主类 【非Springboot项目 推荐使用该方法】</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-shade-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>package<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>shade<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transformers</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transformer</span> <span class="token attr-name">implementation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.apache.maven.plugins.shade.resource.ManifestResourceTransformer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">&gt;</span></span>xx.xxx.Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transformer</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transformers</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h3> <p><a href="https://blog.csdn.net/inthat/article/details/114444631" target="_blank" rel="noopener noreferrer">参考文章<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#一、error-creating-bean-with-name-xmlmodelplugin" title="一、Error creating bean with name 'xmlModelPlugin'">一、Error creating bean with name 'xmlModelPlugin'</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#报错如下" title="报错如下">报错如下</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#问题原因" title="问题原因">问题原因</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#解决方案" title="解决方案">解决方案</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#二、xxx-jar中没有主清单属性" title="二、XXX.jar中没有主清单属性">二、XXX.jar中没有主清单属性</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#问题原因-2" title="问题原因">问题原因</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#解决方案-2" title="解决方案">解决方案</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#reference" title="Reference">Reference</a></div></div></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="/blog/2022/01/10/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/.html" class="nav-link" data-v-fdbf4940>Kendall Cai © 2022</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.f7c45e10.js" defer></script><script src="/blog/assets/js/6.2245e778.js" defer></script><script src="/blog/assets/js/3.c84bc4bf.js" defer></script><script src="/blog/assets/js/20.2cd4ce13.js" defer></script>
  </body>
</html>
